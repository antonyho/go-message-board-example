# Go Message Board RESTful API Server Example

This is an example RESTful API server for Message Board.

## Overview
This server was generated by the [openapi-generator]
(https://openapi-generator.tech) project.
By using the [OpenAPI-Spec](https://github.com/OAI/OpenAPI-Specification) from a remote server, you can easily generate a server stub.

### API Document
The HTML format of API document can be founded at: [API Doc](https://github.com/antonyho/go-message-board-example/blob/master/resources/api/doc/index.html)

### Assumptions
- This project is assumed to be built under BASH environment.
- The public API part has no authentication and no rate controller. Therefore, it is vulnerable to DDoS attack and any kind of overflow attack.
- The user authentication and ACL security part is weak. ~~Basically, at least JWT should be applied. This is a little bit big for a coding challenge demo, but can be a stretch goal.~~
- JWT shall never be used on HTTP protocol without encryption. Otherwise, the plaintext JWT will be exposed and will be used for reply attack. But this demo is not going to have a SSL certificate.
- This project can be splitted into several microservices. However, to keep it as a small coding challenge demo again.
- Data Loader, and Authentication Service could both be standalone microservices. 
- Moderator login session has 30 minutes. After that, a new login is required. Not token refresh API is implemented yet.
- Assuming the initial data CSV file can be huge. The I/O of the CSV loader is by `readline` method. So the loader will not overflow your memory if you provide a 10TB CSV data. But of course, I am not using any persistent layer as database. A 10TB data file loading into the `map[string]interface{}` will absolutely cause your server out of memory.

### Notes
- This project is using GitHub Actions for CI/CD Pipeline.
- The Docker Image can be found on Docker Hub.
- The deployment is based on `testing-release` branch.

### Running the server
To run the server on your local system, follow these simple steps:

```
make run
```

To run the server in a docker container
```
make image
```

Once image is built use
```
docker run --rm -it -p 127.0.0.1:8080:8080 antonyho-messageboard-api-example
```

### Testing
Postman test suite is included in the project.

If you need to test private API endpoints, you need to make require to `/login` endpoint. Copy the result token and put it into `Authentication: Bearer` header.